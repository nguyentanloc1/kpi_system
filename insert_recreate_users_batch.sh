#!/bin/bash
Insert users in batches to respect FK constraints

echo "===== Inserting 4 PTGĐ ====="
npx wrangler d1 execute webapp-production --local --command="
 
DELETE FROM users WHERE id > 0;

-- Tạo 4 admin accounts
INSERT INTO users (username, password, full_name, region_id, position_id, start_date, employee_id, team) VALUES
  ('admin', 'admin123', 'Administrator', 1, 1, '2024-01-01', 'ADMIN001', 'ADMIN'),
  ('admin1', 'admin123', 'Administrator 1', 1, 1, '2024-01-01', 'ADMIN002', 'ADMIN'),
  ('admin2', 'admin123', 'Administrator 2', 1, 1, '2024-01-01', 'ADMIN003', 'ADMIN'),
  ('admin3', 'admin123', 'Administrator 3', 1, 1, '2024-01-01', 'ADMIN004', 'ADMIN');

-- Tạo users từ Excel
INSERT INTO users (username, password, full_name, region_id, position_id, start_date, employee_id, team) VALUES
  ('thangnguyen', '123456', 'NGUYỄN XUÂN THẮNG', 1, 2, '2017-08-01', '1704146', 'BD1U1'),
  ('linhhtt', '123456', 'HOÀNG THỤY TRÚC LINH', 1, 2, '2024-10-01', '3456809', 'BD1U4'),
  ('thanhvo', '123456', 'VÕ THỊ MAI THANH', 1, 2, '2023-11-01', '2584992', 'BD3'),
  ('trangthai', '123456', 'THÁI ANH TRANG', 1, 2, '2014-08-15', '1611936', 'BD4'),
  ('levanbac', '123456', 'LÊ VĂN BẮC', 1, 2, '2025-11-01', '5258842', 'BD3T2'),
  ('suongngo', '123456', 'NGÔ THỊ DIỄM SƯƠNG', 1, 4, '2023-09-11', '2565857', 'BD1U2'),
  ('lamdang', '123456', 'ĐẶNG THỊ ÁNH LÂM', 1, 4, '2020-03-20', '1584681', 'BD1U1'),
  ('lienntt', '123456', 'NGUYỄN THỊ THÙY LIÊN', 1, 4, '2022-08-08', '2689590', 'BD1U1'),
  ('tienvo', '123456', 'VÕ THỊ MỸ TIÊN', 1, 4, '2021-11-29', '1849598', 'BD1U2'),
  ('tuongquach', '123456', 'QUÁCH TƯỜNG', 1, 4, '2024-04-19', '2586024', 'BD1U2'),
  ('nhannh', '123456', 'NGUYỄN HIẾU NHÂN', 1, 4, '2025-02-17', '3648576', 'BD1U2'),
  ('mainguyen', '123456', 'NGUYỄN THỊ NGỌC MAI', 1, 4, '2022-02-22', '1912896', 'BD1U3'),
  ('anhnn', '123456', 'NGUYỄN NGỌC ÁNH', 1, 4, '11/11/2024', '3456907', 'BD1U2'),
  ('duynd', '123456', 'NGUYỄN ĐÌNH DUY', 1, 4, '2025-03-12', '4586050', 'BD1U3'),
  ('sangle', '123456', 'LÊ THANH SANG', 1, 4, '2022-03-01', '1811111', 'BD1U4'),
  ('hungvu', '123456', 'VŨ MINH HÙNG', 1, 4, '2022-11-01', '1849988', 'BD1U4'),
  ('hientt', '123456', 'TRẦN THỊ HIỀN', 1, 4, '2025-02-17', '3648575', 'BD1U4'),
  ('haonn', '123456', 'NGUYỄN NHẬT HÀO', 1, 4, '2025-02-26', '3648581', 'BD1U4'),
  ('vile', '123456', 'LÊ VI', 1, 4, '2025-04-11', '4586078', 'BD2T1'),
  ('sonph', '123456', 'PHẠM HUY SƠN', 1, 4, '02/03/2020', '1584686', 'BD2T1'),
  ('nhivo', '123456', 'VÕ NGUYỄN HUỲNH NHI', 1, 4, '2024-05-14', '3586036', 'BD2T2'),
  ('haule', '123456', 'LÊ THỊ MỸ HẬU', 1, 4, '2024-10-16', '3456814', 'BD2T2'),
  ('oanhdo', '123456', 'ĐỖ KIM OANH', 1, 4, '01/03/2024', '2586000', 'BD3'),
  ('trinhpham', '123456', 'PHẠM VIỆT TRINH', 1, 4, '2025-03-20', '4586058', 'BD3'),
  ('xuanbui', '123456', 'BÙI THỊ THANH XUÂN', 1, 4, '2025-06-02', '5258626', 'BD3T1'),
  ('senle', '123456', 'LÊ THỊ SEN', 1, 4, '2024-08-05', '3456791', 'BD3T1'),
  ('lamntp', '123456', 'NGUYỄN TRẦN PHƯƠNG LAM', 1, 4, '2022-09-19', '2568614', 'BD4'),
  ('ducnq', '123456', 'NGUYỄN QUỲNH ĐỨC', 1, 4, '17/04/2025', '4586079', 'BD4'),
  ('uyenvo', '123456', 'VÕ THỊ TỐ UYÊN', 1, 4, '2024-09-09', '3456900', 'BD4T1'),
  ('haumai', '123456', 'MAI THỊ VÂN HẬU', 1, 4, '2019-07-03', '1903791', 'BD4T1'),
  ('Thuyle', '123456', 'LÊ BÍCH THỦY', 1, 4, '2021-11-01', '1811131', 'BD4T1'),
  ('phucpham', '123456', 'PHẠM TRỌNG PHÚC', 1, 4, '2025-08-13', '5258617', 'BD2'),
  ('anhntv', '123456', 'NGUYỄN THỊ VÂN ANH', 1, 4, '2025-08-22', '5258620', 'BD1U1'),
  ('tonnguyen', '123456', 'NGUYỄN TRƯỜNG TỒN', 1, 4, '2025-10-16', '5586047', 'BD2'),
  ('trongpham', '123456', 'PHẠM MINH TRỌNG', 1, 4, '04/11/2025', '5586054', 'BD1U2'),
  ('tramnmt', '123456', 'NGUYỄN MAI THỦY TRÂM', 1, 4, '10/11/2025', '5586056', 'BD1U2'),
  ('ngocle', '123456', 'LÊ THỊ ÁNH NGỌC', 1, 4, '17/11/2025', '5586058', 'BD1U2'),
  ('nguyenngo', '123456', 'NGÔ TUẤN NGUYÊN', 1, 4, '2025-03-12', '4586054', 'BD3'),
  ('sangnguyen', '123456', 'NGUYỄN VĂN SANG', 1, 4, '2025-04-01', '4586089', 'BD3T1'),
  ('nganngo', '123456', 'NGÔ THỊ THANH NGÂN', 1, 4, '2025-05-02', '5258608', 'BD2'),
  ('ngando', '123456', 'ĐỖ MINH NGÂN', 1, 2, '2015-09-22', '1509829', 'BD1U'),
  ('thuongtran', '123456', 'TRẦN MINH THƯƠNG', 1, 2, '2015-08-10', '1509228', 'BD2'),
  ('trungnguyen', '123456', 'NGUYỄN QUỐC TRUNG', 1, 1, '2013-06-28', '1406699', 'BD'),
  ('cuongnguyentv', '123456', 'NGUYỄN TẤN CƯƠNG', 1, 4, '2025-01-02', '3556918', 'BD2T1'),
  ('tintran', '123456', 'TRẦN TRUNG TÍN', 1, 4, '2022-04-01', '2845865', 'BD1U1'),
  ('dieunguyen', '123456', 'NGUYỄN THÚY ĐIỀU', 1, 4, '2022-01-01', '1985645', 'BD1U1'),
  ('quangnguyen', '123456', 'NGUYỄN VĂN QUANG', 1, 4, '2018-03-13', '1801446', 'BD1U1'),
  ('hieunguyen', '123456', 'NGUYỄN ĐÌNH HIỆU', 1, 4, '2016-04-08', '1613469', 'BD1U2'),
  ('nhinguyen', '123456', 'NGUYỄN THỊ YẾN NHI', 1, 4, '2020-08-17', '1611938', 'BD1U2'),
  ('minhnguyen', '123456', 'NGUYỄN HỮU NHẬT MINH', 1, 4, '2016-06-06', '1508164', 'BD1U3'),
  ('mopham', '123456', 'PHẠM THỊ NGỌC MƠ', 1, 4, '2021-11-01', '1849589', 'BD2T1'),
  ('Phuongle', '123456', 'LÊ THỊ NGỌC PHƯỢNG', 1, 4, '01/11/2019', '1904386', 'BD2T2'),
  ('phuphan', '123456', 'PHAN TRỌNG PHÚ', 1, 4, '2015-05-27', '1508290', 'BD2T1'),
  ('dungntk', '123456', 'NGUYỄN THỊ KHẢI DUNG', 1, 4, '2022-08-29', '2689591', 'BD4'),
  ('khanhdang', '123456', 'ĐẶNG GIA KHÁNH', 1, 3, '2024-03-25', '2586010', 'BD'),
  ('thienle', '123456', 'LÊ HUY THIỆN', 1, 3, '2019-05-27', '1901247', 'BD1U2'),
  ('nhanct', '123456', 'CAO TÀI NHÂN', 1, 3, '2021-06-28', '1811125', 'BD1U3'),
  ('hoahuynh', '123456', 'HUỲNH THỊ CÚC HOA', 1, 3, '06/11/2019', '1904385', 'BD2T1'),
  ('nhuntk', '123456', 'NGUYỄN THỊ KHỎE NHU', 1, 3, '2020-10-26', '1611948', 'BD2T2'),
  ('duynguyen', '123456', 'NGUYỄN THÀNH DUY', 1, 3, '06/02/2020', '1611994', 'BD3T1'),
  ('uyentran', '123456', 'TRẦN THỊ LAN UYÊN', 1, 3, '2016-07-20', '1613053', 'BD4T1'),
  ('loanha', '123456', 'HÀ THỊ LOAN', 1, 4, '2025-09-15', '5258843', 'BD'),
  ('quyentran', '123456', 'TRẦN THỊ QUYÊN', 4, 2, '01/02/2017', '1614430', 'HCM4'),
  ('cuongnguyen', '123456', 'NGUYỄN THỊ KIM CƯƠNG', 4, 4, '2025-05-23', '5258613', 'HCM4'),
  ('nhancao', '123456', 'CAO HỮU NHÂN', 4, 4, '16/02/2021', '1611959', 'HCM1'),
  ('danlbui', '123456', 'BÙI DUY DANL', 4, 4, '2025-02-24', '3648580', 'HCM1T1'),
  ('vinhtrieu', '123456', 'TRIỆU ĐỨC VINH', 4, 4, '2025-03-20', '4586057', 'HCM1'),
  ('hoannguyen', '123456', 'NGUYỄN KIM HOÀN', 4, 4, '2025-02-18', '3748578', 'HCM2'),
  ('thangtran', '123456', 'TRẦN CHIẾN THẮNG', 4, 4, '2021-10-11', '1821983', 'HCM2'),
  ('binhnguyen', '123456', 'NGUYỄN THANH BÌNH', 4, 4, '11/03/2024', '2586007', 'HCM2'),
  ('trangntt', '123456', 'NGUYỄN THỊ THANH TRANG', 4, 4, '2024-10-22', '3456816', 'HCM2'),
  ('daonk', '123456', 'NGUYỄN KIM ĐÀO', 4, 4, '2025-03-04', '4586051', 'HCM2'),
  ('chaungo', '123456', 'NGÔ THỊ MINH CHÂU', 4, 4, '2025-03-11', '4586052', 'HCM2'),
  ('hieunm', '123456', 'NGUYỄN MINH HIẾU', 4, 4, '2025-03-18', '4586056', 'HCM2'),
  ('thangla', '123456', 'LA PHÁP THĂNG', 4, 4, '2025-02-18', '3648577', 'HCM4'),
  ('phungluu', '123456', 'LƯU THANH PHỤNG', 4, 4, '2021-10-25', '1821986', 'HCM4'),
  ('nguyenta', '123456', 'TẠ THỊ HẠNH NGUYÊN', 4, 4, '2024-11-11', '3456917', 'HCM4'),
  ('tanhoang', '123456', 'HOÀNG PHÚC TẤN', 4, 4, '2025-03-10', '4586053', 'HCM4'),
  ('kietho', '123456', 'HỒ TẤN KIỆT', 4, 4, '2025-08-18', '5258828', 'HCM4'),
  ('nhula', '123456', 'LA TÔN ÁI NHƯ', 4, 4, '2025-08-26', '5258622', 'HCM4'),
  ('quannguyen', '123456', 'NGUYỄN MINH QUÂN', 4, 4, '2025-08-27', '5258623', 'HCM4'),
  ('hienvi', '123456', 'VI LƯƠNG MINH HIỀN', 4, 4, '2025-08-28', '5258834', 'HCM4'),
  ('thuongpham', '123456', 'PHẠM THỊ HOÀI THƯƠNG', 4, 4, '2025-09-08', '5258836', 'HCM4'),
  ('hoannv', '123456', 'NGUYỄN VĂN HOAN', 4, 4, '2025-09-17', '5258838', 'HCM4'),
  ('chungnguyen', '123456', 'NGUYỄN BẢO CHUNG', 4, 4, '2025-10-13', '5586046', 'HCM1'),
  ('ybanh', '123456', 'BÀNH NGỌC NHƯ Ý', 4, 4, '04/11/2025', '5586055', 'HCM4'),
  ('duynk', '123456', 'NGUYỄN KHÁNH DUY', 4, 4, '11/11/2025', '5586057', 'HCM1'),
  ('phado', '123456', 'ĐỖ NGỌC CHÂU PHA', 4, 4, '2025-09-13', '5258840', 'HCM4'),
  ('trucvuong', '123456', 'VƯƠNG XUÂN TRÚC', 4, 4, '2025-09-26', '5258841', 'HCM4'),
  ('quangha', '123456', 'HÀ VĂN QUANG', 4, 2, '2016-05-25', '1613150', 'HCM1'),
  ('nguyennguyen', '123456', 'NGUYỄN THỊ HẠNH NGUYÊN', 4, 2, '2015-03-16', '1508270', 'HCM2'),
  ('hoanvu', '123456', 'VŨ QUANG HOAN', 4, 1, '2015-07-08', '1508989', 'HCM'),
  ('trangvo', '123456', 'VÕ THỊ KIỀU TRANG', 4, 4, '2020-02-08', '1611987', 'HCM1'),
  ('thuypham', '123456', 'PHẠM MINH THÙY', 4, 4, '10/05/2021', '1811114', 'HCM2'),
  ('khanhlam', '123456', 'LÂM VĂN KHANH', 4, 3, '2021-06-02', '1811123', 'HCM1T1'),
  ('linhphan', '123456', 'PHAN THỊ THÙY LINH', 4, 3, '2024-04-16', '2586023', 'HCM4'),
  ('tampham', '123456', 'PHẠM THỊ TÂM', 2, 2, '2022-04-04', '2568596', 'HN1'),
  ('phuongcao', '123456', 'CAO THỊ PHƯỢNG', 2, 4, '2012-03-09', '1200999', 'HN'),
  ('haunguyen', '123456', 'NGUYỄN THỊ HẬU', 2, 4, '2020-09-01', '1611937', 'HN'),
  ('anhpd', '123456', 'PHẠM ĐỨC ANH', 2, 4, '2024-06-06', '3586052', 'HN1'),
  ('hangvu', '123456', 'VŨ THU HẰNG', 2, 4, '2024-07-09', '3648573', 'HN1'),
  ('chamle', '123456', 'LÊ THỊ CHÂM', 2, 4, '2024-07-19', '3586066', 'HN'),
  ('hienbui', '123456', 'BÙI THANH HIỀN', 2, 4, '2025-08-30', '5258826', 'HN'),
  ('huongphan', '123456', 'PHAN THỊ HƯƠNG', 2, 4, '2025-09-13', '5258837', 'HN1'),
  ('loingo', '123456', 'NGÔ THỊ LỢI', 2, 4, '2025-09-22', '5258839', 'HN'),
  ('anhnm', '123456', 'NGUYỄN MAI ANH', 2, 4, '2025-10-28', '5586049', 'HN1'),
  ('chido', '123456', 'ĐỖ ĐỨC CHÍ', 2, 1, '2016-08-01', '1613646', 'HN'),
  ('anhmai', '123456', 'MAI QUANG ANH', 2, 3, '2022-03-21', '2659855', 'HN1T1'),
  ('linhdo', '123456', 'ĐỖ VÕ HIỀN LINH', 3, 2, '2016-11-03', '1614041', 'MT1'),
  ('lytrinh', '123456', 'TRỊNH THỊ KHÁNH LY', 3, 4, '2024-05-16', '3586037', 'MT1'),
  ('hieuphan', '123456', 'PHAN VĂN HIẾU', 3, 4, '2024-07-24', '3648578', 'MT1'),
  ('taia', '123456', 'A RÉT ANH TÀI', 3, 4, '2024-10-04', '3456812', 'MT1'),
  ('nguyetnguyen', '123456', 'NGUYỄN THỊ THU NGUYỆT', 3, 4, '2024-10-07', '3456813', 'MT1'),
  ('oanhdoan', '123456', 'ĐOÀN THỊ TRÂM OANH', 3, 4, '2025-03-03', '4586059', 'MT1'),
  ('mydang', '123456', 'ĐẶNG THỊ KIM MỴ', 3, 4, '2024-09-17', '3456903', 'MT2'),
  ('hale', '123456', 'LÊ THỊ THU HÀ', 3, 4, '2025-03-15', '4586064', 'MT3'),
  ('nguyentran', '123456', 'TRẦN THỊ PHƯƠNG NGUYÊN', 3, 4, '2025-09-03', '5258835', 'MT3'),
  ('trangle', '123456', 'LÊ THỊ TRANG', 3, 4, '2025-10-01', '5586045', 'MT1'),
  ('quangnha', '123456', 'NGUYỄN HOÀNG ANH QUANG', 3, 4, '2025-07-21', '5258630', 'MT3'),
  ('hanhle', '123456', 'LÊ THỊ BÍCH HẠNH', 3, 1, '03/02/2020', '1611981', 'MT'),
  ('oanhpt', '123456', 'PHẠM THỊ OANH', 3, 4, '2022-02-14', '1912891', 'MT1'),
  ('haothai', '123456', 'THÁI THỊ HÒA HẢO', 3, 3, '18/02/2021', '1584695', 'MT3');

"
echo "Done! Check total users:"
npx wrangler d1 execute webapp-production --local --command="SELECT COUNT(*) as total FROM users" 2>&1 | grep -A 5 "total"
